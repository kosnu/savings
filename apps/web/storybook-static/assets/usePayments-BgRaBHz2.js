import{u as c}from"./useQuery-Dir4VHnT.js";import{gz as r,gv as d,c as o,gA as m,gB as p,gC as y,u as g}from"./store-BDQXzfpO.js";import{u as f}from"./useAuthCurrentUser-BTHXZyFx.js";import{u as h}from"./useDateRange-BNCrmCFV.js";const v={id:"unknown",name:"Unknown",createdDate:new Date,updatedDate:new Date};async function l(a,t,[n,s]){if(!t)return[];const e=[r("user_id","==",t.uid)];n&&e.push(r("date",">=",n)),s&&e.push(r("date","<=",s));const u=d(a,o.payments.path(t.uid)).withConverter(o.payments.converter);return(await m(p(u,...e,y("date","desc")))).docs.map(i=>i.data())}function R(){const{currentUser:a}=f(),t=g(),{date:n,dateRange:s}=h(),e=c({queryKey:["payments",n?.toISOString()??"all",a?.uid],queryFn:()=>l(t,a,s),staleTime:3e3});return{data:e.data||[],loading:e.isLoading,promise:e.promise,error:e.error}}export{R as a,v as u};
