import{r as n}from"./iframe-dHABiMeZ.js";const l=n.createContext(null),c={didCatch:!1,error:null};class m extends n.Component{constructor(r){super(r),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=c}static getDerivedStateFromError(r){return{didCatch:!0,error:r}}resetErrorBoundary(...r){const{error:e}=this.state;e!==null&&(this.props.onReset?.({args:r,reason:"imperative-api"}),this.setState(c))}componentDidCatch(r,e){this.props.onError?.(r,e)}componentDidUpdate(r,e){const{didCatch:t}=this.state,{resetKeys:s}=this.props;t&&e.error!==null&&p(r.resetKeys,s)&&(this.props.onReset?.({next:s,prev:r.resetKeys,reason:"keys"}),this.setState(c))}render(){const{children:r,fallbackRender:e,FallbackComponent:t,fallback:s}=this.props,{didCatch:d,error:i}=this.state;let o=r;if(d){const h={error:i,resetErrorBoundary:this.resetErrorBoundary};if(typeof e=="function")o=e(h);else if(t)o=n.createElement(t,h);else if(s!==void 0)o=s;else throw i}return n.createElement(l.Provider,{value:{didCatch:d,error:i,resetErrorBoundary:this.resetErrorBoundary}},o)}}function p(a=[],r=[]){return a.length!==r.length||a.some((e,t)=>!Object.is(e,r[t]))}export{m};
