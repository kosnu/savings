import{r as o,j as r,i as O,P as H,k as P,m as N,n as S,q as _,s as G,t as K,c as U,v as X,y as J,a as Q,p as V}from"./iframe-dHABiMeZ.js";import{u as W}from"./useDialog-CF0JRvEy.js";import{C as Y}from"./CreatePaymentForm-Iu8FkQVN.js";import"./text-field-BYxnW1de.js";import{r as Z,t as ee}from"./icons-CFYjOSRb.js";import{u as te}from"./CategoryField-CPeCq57x.js";import{o as oe}from"./button-Dvhl8X7z.js";import{s as re,p as ne,g as se,m as ae}from"./dialog-B3tDX_ew.js";import{p as ce}from"./text-CUfpPkrv.js";var y="Checkbox",[ie]=O(y),[de,I]=ie(y);function le(t){const{__scopeCheckbox:d,checked:a,children:s,defaultChecked:n,disabled:e,form:p,name:l,onCheckedChange:c,required:m,value:C="on",internal_do_not_use_render:f}=t,[i,v]=N({prop:a,defaultProp:n??!1,onChange:c,caller:y}),[b,x]=o.useState(null),[g,u]=o.useState(null),h=o.useRef(!1),R=b?!!p||!!b.closest("form"):!0,E={checked:i,disabled:e,setChecked:v,control:b,setControl:x,name:l,form:p,value:C,hasConsumerStoppedPropagationRef:h,required:m,defaultChecked:k(n)?!1:n,isFormControl:R,bubbleInput:g,setBubbleInput:u};return r.jsx(de,{scope:d,...E,children:ue(f)?f(E):s})}var w="CheckboxTrigger",B=o.forwardRef(({__scopeCheckbox:t,onKeyDown:d,onClick:a,...s},n)=>{const{control:e,value:p,disabled:l,checked:c,required:m,setControl:C,setChecked:f,hasConsumerStoppedPropagationRef:i,isFormControl:v,bubbleInput:b}=I(w,t),x=S(n,C),g=o.useRef(c);return o.useEffect(()=>{const u=e?.form;if(u){const h=()=>f(g.current);return u.addEventListener("reset",h),()=>u.removeEventListener("reset",h)}},[e,f]),r.jsx(P.button,{type:"button",role:"checkbox","aria-checked":k(c)?"mixed":c,"aria-required":m,"data-state":z(c),"data-disabled":l?"":void 0,disabled:l,value:p,...s,ref:x,onKeyDown:_(d,u=>{u.key==="Enter"&&u.preventDefault()}),onClick:_(a,u=>{f(h=>k(h)?!0:!h),b&&v&&(i.current=u.isPropagationStopped(),i.current||u.stopPropagation())})})});B.displayName=w;var M=o.forwardRef((t,d)=>{const{__scopeCheckbox:a,name:s,checked:n,defaultChecked:e,required:p,disabled:l,value:c,onCheckedChange:m,form:C,...f}=t;return r.jsx(le,{__scopeCheckbox:a,checked:n,defaultChecked:e,disabled:l,required:p,onCheckedChange:m,name:s,form:C,value:c,internal_do_not_use_render:({isFormControl:i})=>r.jsxs(r.Fragment,{children:[r.jsx(B,{...f,ref:d,__scopeCheckbox:a}),i&&r.jsx(T,{__scopeCheckbox:a})]})})});M.displayName=y;var $="CheckboxIndicator",q=o.forwardRef((t,d)=>{const{__scopeCheckbox:a,forceMount:s,...n}=t,e=I($,a);return r.jsx(H,{present:s||k(e.checked)||e.checked===!0,children:r.jsx(P.span,{"data-state":z(e.checked),"data-disabled":e.disabled?"":void 0,...n,ref:d,style:{pointerEvents:"none",...t.style}})})});q.displayName=$;var D="CheckboxBubbleInput",T=o.forwardRef(({__scopeCheckbox:t,...d},a)=>{const{control:s,hasConsumerStoppedPropagationRef:n,checked:e,defaultChecked:p,required:l,disabled:c,name:m,value:C,form:f,bubbleInput:i,setBubbleInput:v}=I(D,t),b=S(a,v),x=te(e),g=G(s);o.useEffect(()=>{const h=i;if(!h)return;const R=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(R,"checked").set,F=!n.current;if(x!==e&&j){const L=new Event("click",{bubbles:F});h.indeterminate=k(e),j.call(h,k(e)?!1:e),h.dispatchEvent(L)}},[i,x,e,n]);const u=o.useRef(k(e)?!1:e);return r.jsx(P.input,{type:"checkbox","aria-hidden":!0,defaultChecked:p??u.current,required:l,disabled:c,name:m,value:C,form:f,...d,tabIndex:-1,ref:b,style:{...d.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});T.displayName=D;function ue(t){return typeof t=="function"}function k(t){return t==="indeterminate"}function z(t){return k(t)?"indeterminate":t?"checked":"unchecked"}const pe=["1","2","3"],fe=["classic","surface","soft"],he={size:{type:"enum",className:"rt-r-size",values:pe,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:fe,default:"surface"},...U,...K},A=o.forwardRef((t,d)=>{const{className:a,color:s,checked:n,defaultChecked:e,onCheckedChange:p,...l}=X(t,he,Q),[c,m]=N({prop:n,defaultProp:e,onChange:p});return o.createElement(M,{"data-accent-color":s,...l,defaultChecked:e,checked:c,onCheckedChange:m,asChild:!1,ref:d,className:J("rt-reset","rt-BaseCheckboxRoot","rt-CheckboxRoot",a)},o.createElement(q,{asChild:!0,className:"rt-BaseCheckboxIndicator rt-CheckboxIndicator"},o.createElement(c==="indeterminate"?Z:ee,null)))});A.displayName="Checkbox";function me({onSuccess:t}){const{open:d,openDialog:a,closeDialog:s}=W(),n=o.useId(),[e,p]=o.useState(!1),l=o.useRef(null),c=o.useCallback(i=>{l.current=i},[]),m=o.useCallback(()=>{t?.(),e?l.current?.():s()},[e,t,s]),C=o.useCallback(i=>{console.error("Error creating payment:",i)},[]),f=o.useCallback(()=>{s()},[s]);return r.jsxs(re,{open:d,children:[r.jsx(oe,{onClick:a,children:"Create payment"}),r.jsxs(ne,{children:[r.jsx(se,{children:"Create payment"}),r.jsx(ae,{size:"2",mb:"4",children:"Create a new payment. Please fill in the details below."}),r.jsx(Y,{onSuccess:m,onError:C,onCancel:f,onResetReady:c,additionalActions:r.jsx(ce,{as:"label",size:"2",htmlFor:n,children:r.jsxs(V,{gap:"2",align:"center",children:[r.jsx(A,{id:n,checked:e,onCheckedChange:i=>p(i===!0)}),"Continue creating"]})})})]})]})}me.__docgenInfo={description:"",methods:[],displayName:"CreatePaymentModal",props:{onSuccess:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{me as C};
