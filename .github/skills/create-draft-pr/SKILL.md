---
name: create-draft-pr
description: リポジトリのPRテンプレートを使って、Draft状態のPull Requestを安全に作成するための汎用スキル
---

# Draft PR作成スキル

## 目的

- PRテンプレートに沿って、レビューしやすいDraft PRを作成する。
- 記載漏れ・対象ブランチ誤り・差分混入を防ぐ。

## 適用範囲

- PR作成作業（Draftがデフォルト）。
- マージ・リリース作業は対象外。

## 起動フレーズ（自然言語）

- スキル名を明示しない自然言語の依頼でも、本スキルとして扱う。
- 例: 「Draft PRを作成して」「PRを作って」「PRを作成して」

## 実行手順

1. PRの前提を確認する。
   - ベースブランチ、ヘッドブランチ、関連Issue、変更スコープを明確にする。
2. ブランチ状態を確認する。
   - 変更がコミット済みであること、PR対象外の差分が残っていないことを確認する。
3. テンプレートを取得する。
   - リポジトリのPRテンプレート `.github/PULL_REQUEST_TEMPLATE.md` を読み、必須セクションを把握する。
4. PR本文を作成する。
   - テンプレート構造を維持したまま、関連Issue、変更内容、動作確認、補足を具体的に埋める。
   - 動作確認欄は、実施済みの検証に合わせて正確に記載する。
5. PR本文の確認を取る。
   - 作成したPR本文をユーザーに提示し、内容の確認・承認を得る。
6. Draft PRを作成する。
   - デフォルトはDraftとし、Ready for reviewは明示判断時のみ行う。
7. 作成結果を確認する。
   - タイトル、本文、ベース/ヘッド、ラベル、関連Issueリンクが想定どおりかを確認する。

## セーフティルール

- テンプレートの見出しを削らず、空欄やダミー文言を残さない。
- 関連Issue番号と変更内容の整合を取る。
- 変更内容と無関係な説明を含めない。
- 検証未実施項目を実施済みとして記載しない。
- PR本文の確認・承認なしでDraft PRを作成しない。

## 完了条件

- Draft PRが作成されている。
- テンプレート必須セクションが具体的に埋まっている。
- PR本文と実際の差分・検証結果が一致している。
